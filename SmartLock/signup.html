<!DOCTYPE html>
<script src="https://cdn.netpie.io/microgear.js"></script>

<script>

  const APPID = "SmartLock";
  const KEY = "el917rjQa7CMKHc";
  const SECRET = "ZXTfXsmDMrRXB9VHMUjE1WeN1";

  const ALIAS = "login";      //  ชื่อตัวเอง
  const thing1 = "NodeMCU1";  //  ชื่อเพื่อนที่จะคุย

  var microgear = Microgear.create({
    key: KEY,
    secret: SECRET,
    alias : ALIAS
  });

  microgear.on('present', function(event) {
    console.log(event);
  });

  microgear.on('absent', function(event) {
    console.log(event);
  });

  microgear.resettoken(function(err) {
    microgear.connect(APPID);
  });

</script>

<style>

body{ 

  -webkit-animation: fadein 2.2s; /* Safari, Chrome, Opera */
}
@-webkit-keyframes fadein {
  from { opacity: 0; }
  to   { opacity: 1; }
}
button {
  text-align: center;
  text-decoration: none;
  pointer-events: pointer;
  color: grey;
  cursor: pointer;
  height: 30px;
  width: 75px;
  margin: 10px;
  border-radius: 1.5mm;
  transition: all 0.3s;
}
button:hover {
  -webkit-transform: scale(1.3);
  transform: scale(1.3);
}

</style>

<html>
<title>SmartLock-Login</title>

<body style = "background-image: url(http://www.icanbecreative.com/res/freeweb/2011/04/perspective.png); background-repeat: no-repeat; background-size: 100% 100vh;">

<h2 style="font-size:70px;color:blue;text-align:center; color: white; text-shadow: 2px 2px grey;">SmartLock</h2>

<div id = "slide" style = "background-color: rgba(25,25,25,0.3);">

<h2 style="font-size:40px;text-align:center; color: white; text-shadow: 2px 2px black;">Sign up</h2>

<div style="text-align:center; color: white; text-shadow: 1px 1px grey;">
  <form>
    <table style="margin-left: auto; margin-right: auto; text-align: left; color: white; text-shadow: 1px 1px grey; ">
      <tr>
        <td>Device Serial: </td>
        <td><input type="text" id="serial"></td>
      </tr>
      <tr>
        <td>Username: </td>
        <td><input type="text" maxlength="10" id="username"></td>
      </tr>
      <tr>
        <td>Password: </td>
        <td><input type="password" maxlength="8" id="p1"></td>
      </tr>
      <tr>
        <td>Confirm Password: </td>
        <td><input type="password" maxlength="8" id="p2"></td>
      </tr>
    </table>
  </form>
  <br>
  <button id = "back">< Back</button>
  <button id = "confirm">Sign up</button>
  <script>
    document.getElementById("confirm").onclick = function () {
      var a0 = document.getElementById("serial").value;
      var a1 = document.getElementById("username").value;
      var a2 = document.getElementById("p1").value;
      var a3 = document.getElementById("p2").value;
      if (a0=='' || a1=='' || a2=='' || a3==''){
        alert("Please fill all the text fields");
      } else if (a2 != a3){
        alert("Password not correct!\nMake sure that password length has maximum of 8 digits");
        location.href = "signup.html";
      } else{
        alert("Signed up sucessfully!");
        location.href = "login.html";
      }
      
    };
    document.getElementById("back").onclick = function () {
      location.href = "login.html";
    };
  </script> 
</div>
</div>

</body>
</html>
